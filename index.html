<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Security-Policy" content="connect-src 'self' ws://localhost:8080">
        <meta name="description" content="Waapitools is a set of tools aiming to provide a user-friendly interface to automate various tasks on a Wwise project.">
        <title>Waapitools</title>
        <link rel="stylesheet" href="resources/css/styles.css?v=1.0">
        <link rel="stylesheet" href="resources/css/piano.css?v=1.0">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alice|Roboto+Mono">
		<link href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABHVBMVEUAAAAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyAjHyD///9wkNc8AAAAXXRSTlMAAAIjJgND3eJNBnmHBy6upFO9wpu0OYhzCGD+IhVc9u5ZXmVP5vttEyQEPdu2FqKNZHR7sqzgSJqGZv13FLfrUC8e8ehM3/diHDGKcomdN7+1y9dRxUQNDgFLWzV3+TKFAAAAAWJLR0ReBNZhuwAAAAd0SU1FB+UICwgfCk6wWmkAAAC5SURBVBjTY2DAChiZmFlYGZH4jGzsHJyMjHAuFxN3bCwPEy9EiJGRj19AUEhYUERUDCzCyCgeGyvBKyklHSsCEmCSkZWTV1BUUlZRVVPX0NRi0NbR1dM3MFSTNjI20TM1M2dgUxWWtbC0so61MTK1tbN3YNBydBJ0dhHkF3J1c/fw9OICGeodG+tj4ysVG+sHtcU/INAhKDjENDQM5pBwSSOgw3gjIhFujXJRiGZE9oyWVwwXI3aPAwBjkRkmoYY6hgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wOC0xMVQwODozMDo1NiswMDowMNMKy1cAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDgtMTFUMDg6MzA6NTYrMDA6MDCiV3PrAAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADE5MkBdcVUAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTky06whCAAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNjI4NjcwNjU2hyUktgAAAA90RVh0VGh1bWI6OlNpemUAMEJClKI+7AAAAFZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL21udGxvZy9mYXZpY29ucy8yMDIxLTA4LTExLzAzNWI2OTJjNGQ5ZWVmNmE5YmQxNzY0ZDMzYjA2MjhiLmljby5wbmfFifyPAAAAAElFTkSuQmCC" rel="icon" type="image/x-icon" />
    </head>

    <body>
        <header>
            <h1>Waapitools: <span class="name">no connection to wwise project</span></h1>
        </header>

        <!-- Navigation -->
        <nav class="info">
            <a href="https://github.com/themushroomsound/waapitools" target="_blank">help</a> | 
            <a href="#about" class="btnNav">about</a>
        </nav>

        <nav class="tools">
            <a href="#home" class="btnNav">home</a> |
        </nav>

        <div id="connectionError" class="errors">
            <p><strong>Error:</strong> could not connect to any Wwise project on localhost:8080.</p>
            <p>Please make sure:
                <ul>
                    <li>Wwise is running and a project is open</li>
                    <li>Wwise Authoring API is enabled in your <a href="https://www.audiokinetic.com/en/library/edge/?source=Help&id=user_preferences#user_prefs_waapi">user preferences</a></li>
                    <li id="hosted"><span id="host">http://waapitools.org</span> has been added as a valid origin in the <em>"Allow browser connections from" list.</em></li>
                </ul>
            </p>
            <p>Please <a href="javascript:window.location.href=window.location.href">refresh this page</a> after checking the above potential issues.</p>
        </div>

        <div id="wwiseLockedError" class="errors">
            <p><strong>Error:</strong> Wwise is currently locked by an open window (e.g. project settings, user preferences or some other modal window)</p>
            <p>Please <a href="javascript:window.location.href=window.location.href">refresh this page</a> after closing that window.</p>
        </div>        

        <!-- HOME -->
        <section id="home">
            <h2>home</h2>
            <h3>Tools:</h3>
            <ul></ul>
        </section>

        <!-- ABOUT -->
        <section id="about">
            <h2>ABOUT</h2>
            <p><a href="http://waapitools.org">Waapitools</a> is a set of tools aiming to provide a user-friendly interface to automate various tasks on a Wwise project. It is a javascript based web application that communicates with the Wwise Authoring Tool through the <a href="https://www.audiokinetic.com/en/library/edge/?source=SDK&id=waapi.html">Wwise&nbsp;Authoring&nbsp;API&nbsp;(WAAPI)</a>.</p>
            <p>This is a work in progress provided as-is with no warranty. It is not affiliated with <a href="https://www.audiokinetic.com/">Audiokinetic</a>.</p>
            <p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-nc-sa.png" width="100"/></a></p>
            <p>© <script>document.write(new Date().getFullYear());</script> <a href="http://matthieubonneau.org">Matthieu&nbsp;Bonneau</a></p>
            <p>This work is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC&nbsp;BY-NC-SA</a> license. It is available for download and offline use on <a href="https://github.com/themushroomsound/waapitools">GitHub</a>.</p>
            <p>Waapitools includes code from the <a href="https://github.com/crossbario/autobahn-js">Autobahn|JS</a> open&nbsp;source project.</p>  
         
        </section>        

        <!-- EVENT SOUNDBANK FINDER -->

        <!-- Templates -->
        <template id="template_inclusionRow">
            <tr>
                <td class="name soundbankName"></td>
                <td>
                    <span class="inclusionType"></span>
                    <span class="name inclusionObjectName"></span>
                </td>
            </tr>
        </template>

        <!-- Static markup -->
        <section id="eventSoundbankFinder">
            <h2>event soundbank finder</h2>
            <h3>Selected event: <span class="name">none</span></h3>
            <h3>Referenced in <span class="nbInclusions"></span> soundbank(s):</h3>
            <table class="soundbankInclusions"><tr><td>none</td></tr></table>
        </section>

        <!-- BATCH ATTENUATIONS EDITOR -->

        <!-- Templates -->
        <template id="template_attenuationView">
            <div class="attenuationView">
                <h3 class="metadata"><span>Attenuation: <span class="name">none</span></span></h3>
                <p class="metadata"><span>GUID: <span class="guid">pending commit</span></span></p>
                <p class="metadata"><span>Radius max: <span class="RadiusMax">unknown</span></span></p>
                <svg class="attenuationCurves" preserveAspectRatio="none" viewBox="0 0 2000 2000"></svg>
            </div>
        </template>

        <template id="template_interpolationStep">
            <li class="step">above <input class="threshold" type="text" value="0" />m, every <input class="stepLength" type="text" value="1"/>m <a href="#" class="btn_addStep">+</a><a href="#" class="btn_removeStep">-</a></li>
        </template>

        <template id="template_interpolationShapePoint">
            <li class="point">Point <span class="index">1</span>:
                <select class="linear">
                    <option value="linear">Linear</option>
                    <option value="easeInQuad">In Quad</option>
                    <option value="easeOutQuad">Out Quad</option>
                    <option value="easeInOutQuad">In/Out Quad</option>
                    <option value="easeInCubic">In Cubic</option>
                    <option value="easeOutCubic">Out Cubic</option>
                    <option value="easeInOutCubic">In/Out Cubic</option>
                    <option value="easeInQuart">In Quart</option>
                    <option value="easeOutQuart">Out Quart</option>
                    <option value="easeInOutQuart">In/Out Quart</option>
                    <option value="easeInQuint">In Quint</option>
                    <option value="easeOutQuint">Out Quint</option>
                    <option value="easeInOutQuint">In/Out Quint</option>
                </select>
            </li>
        </template>

        <!-- Templates: error messages -->
        <template id="template_interpolationError_MultipleSimilarRadiiError">
            <li class="errorMsg"><span class="attName">Gen_3D_Auto_1m</span>: another attenuation already has a max radius of <span class="radius">100</span>m in the selected folder or WWU.</li>
        </template>

        <template id="template_interpolationError_InconsistentPointsNbError">
            <li class="errorMsg"><span class="attName">Gen_3D_Auto_1m</span>: the <span class="curveType">VolumeDryUsage</span> curve has <span class="foundNbPoints">3</span> points instead of <span class="correctNbPoints">2</span>.</li>
        </template>

        <template id="template_interpolationError_EmptyFolderError">
            <li class="errorMsg">the selected folder or WWU contains no attenuations</li>
        </template>

        <template id="template_interpolationError_LessThan2AttsError">
            <li class="errorMsg">the selected folder or WWU needs to contain at least 2 attenuations to enable interpolation</li>
        </template>

        <template id="template_interpolationError_MissingValidSuffixError">
            <li class="errorMsg">The name <span class="attName">Gen_3D_Auto_1m</span> is missing a valid suffix: it should end with "<span class="radius">100</span>m".</li>
        </template>

        <template id="template_interpolationError_InvalidPrefixError">
            <li class="errorMsg">The name <span class="attName">Gen_3D_Auto_1m</span> is invalid: it should be something like "<span class="correctPrefix">Gen_Auto_</span><span class="radius">100</span>m".</li>
        </template>

        <!-- Static markup -->
        <section id="batchAttEditor">
            <h2>batch attenuations editor</h2>
            <h3>Selected folder or WWU: <span class="name">none</span></h3>

            <div id="displayOptions">
                <p>Show curves:
                    <a class="btn_showCurve" href="#VolumeDryUsage">Output Bus vol.</a>
                    <a class="btn_showCurve" href="#VolumeWetGameUsage">Aux. send vol. (Game-defined)</a>
                    <a class="btn_showCurve" href="#VolumeWetUserUsage">Aux. send vol. (User-defined)</a>
                    <a class="btn_showCurve" href="#LowPassFilterUsage">LPF</a>
                    <a class="btn_showCurve" href="#HighPassFilterUsage">HPF</a>
                    <a class="btn_showCurve" href="#SpreadUsage">Spread</a>
                    <a class="btn_showCurve" href="#FocusUsage">Focus</a>
                </p>
                <p>Display:
                    <a class="btn_display" href="#cascadeEqual">Cascade (equal spacing)</a>
                    <a class="btn_display" href="#cascadeProportional">Cascade (proportional spacing)</a>
                    <a class="btn_display" href="#list">List</a>
                </p>
            </div>

            <div id="editors">
                <div id="interpolationStepsEditor">
                    <h2>Create attenuations:</h2>
                    <ul id="stepsList" />
                </div>
                <div id="interpolationShapesEditor" class="VolumeDryUsage">
                    <h2>Interpolation shapes</h2>
                    <h3 id="curveType">VolumeDryUsage</h3>
                    <ul id="pointsList" />
                </div>
                <a href="#" class="btn_action" id="btn_commit" class="enabled">COMMIT TO WWISE</a>
            </div>

            <div id="interpolationErrorsView" class="errors">
                <h3>Interpolation is disabled. The following errors have been found:</h3>
                <ul id="interpolationErrorsList"  class="errorsList"></ul>
            </div>

            <div id="attenuationsList"></div>
            <div id="pointTooltip" class="tooltip">
                Point <span class="ptIndex">1</span><br />
                x: <span class="value coordX">15m</span><br />
                y: <span class="value coordY">-9dB</span>
            </div>
        </section>

        <!-- SAMPLER KEYMAPPER -->

        <!-- Templates -->
        <template id="template_blendContainerChildRow">
            <tr>
                <td class="name blendContainerName"></td>
                <td>
                    <span class="noteDetection"></span>
                    <span class="name detectedNoteName"></span>
                    <span class="name detectedNoteIndex"></span>
                </td>
                <td class="detectedNoteIndex">
                    (midi note <span></span>)
                </td>
            </tr>
        </template>

        <template id="template_pianoSample">
            <div class="sample">
                <div class="range"><span>Sample Name</span></div>
            </div>
        </template>

        <!-- Templates: error messages -->
        <template id="template_mappingError_EmptySamplerError">
            <li class="errorMsg">The selected blend container has no children</li>
        </template>

        <template id="template_mappingError_NoNoteDetectedError">
            <li class="errorMsg"><span class="sampleName">My Sample Name</span>: no note name was detected in this name to be used as a root key</li>
        </template>

        <!-- Static markup -->
        <section id="samplerKeymapper">
            <h2>sampler keymapper</h2>

            <div id="editors">
                <a href="#" class="btn_action" id="btn_commit" class="enabled">COMMIT TO WWISE</a>
            </div>

            <h3>Selected blend container: <span class="name">none</span></h3>

            <h3>Children:</h3>
            <table class="blendContainerChildren"><tr><td>none</td></tr></table>

            <h3>Mapping:</h3>
            <div id="mappingErrorsView" class="errors">
                <h3>Mapping is disabled. The following errors have been found:</h3>
                <ul id="mappingErrorsList" class="errorsList"></ul>
            </div>

            <div class="pianoKeyboard">
            </div>
        </section>

        <!-- NOTES REVIEW -->

        <!-- Templates -->
        <template id="template_notesRow">
            <tr>
                <td class="name objectName"></td>
                <td class="notes"></td>
            </tr>
        </template>

        <!-- Static markup -->
        <section id="notesReview">
            <h2>notes review</h2>
            <h3>Found <span class="nbNotes"></span> object(s) including notes:</h3>
            <table class="notes"><tr><td>none</td></tr></table>
        </section>


        <!-- RENAMER -->

        <!-- Templates -->
        <template id="template_wwiseObjectRow">
            <tr>
                <td class="type"></td>
                <td class="name objectName"></td>
                <td class="pendingObject"><span class="name newObjectName"></span></td>
            </tr>
        </template>

        <!-- Static markup -->
        <section id="renamer">
            <h2>renamer</h2>
            <div id="editors">
                <a href="#" class="btn_action" id="btn_commit" class="enabled">COMMIT TO WWISE</a>
            </div>
            <h3 id="selfObjectName">Selected object: <span class="name">none</span></h3>
            <p id="findReplaceInputs">
                <label for="find">Find: </label>
                <input type="text" name="find" id="find" />
                <label for="find">Replace with: </label>
                <input type="text" name="replace" id="replace" />
            </p>
            <h3>Events:</h3>
            <table id="references">
                <thead>
                    <tr>
                        <td>Type</td><td>Current name</td><td>Pending name</td>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>-</td><td>-</td><td>-</td></tr>
                </tbody>
            </table>
            <h3>Children:</h3>
            <table id="children">
                <thead>
                    <tr>
                        <td>Type</td><td>Current name</td><td>Pending name</td>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>-</td><td>-</td><td>-</td></tr>
                </tbody>
            </table>
        </section>


        <!-- CREATOR -->

        <!-- Templates -->
        <template id="template_pendingChildObjectRow">
            <tr>
                <td class="type"></td>
                <td class="path objectPath"></td>
                <td class="errorsList"></td>
            </tr>
        </template>

        <!-- Static markup -->
        <section id="creator">
            <h2>creator</h2>
            <div id="editors">
                <a href="#" class="btn_action" id="btn_commit" class="enabled">COMMIT TO WWISE</a>
            </div>
            <h3 id="selfObjectName">Selected parent object: <span class="name">none</span></h3>
            <p>
                <label for="type">Object type: </label>
                <select name="type" id="type"></select>
                <label for="prefix">Common prefix: </label>
                <input type="text" name="prefix" id="prefix" />
            </p>
            <div id="creatorNamesList" class="creatorSection">
                <h3>Names list:</h3>
                <p>
                    <textarea name="names" id="names">
name_01
name_02
name_03</textarea>
                </p>
            </div>
            <div id="creatorChildrenList" class="creatorSection">
                <h3>Children to create:</h3>
                <table id="pendingChildren">
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div style="clear:both;" />
        </section>


        <!-- NESTER -->

        <!-- Templates -->
        <template id="template_nesterPendingChildObjectRow">
            <tr>
                <td class="type"></td>
                <td class="path objectPath"></td>
                <td class="errorsList"></td>
            </tr>
            <tr>
                <td colspan="3">
                    <table class="nestedObjects">
                        <tbody>
                        </tbody>
                    </table>
                </td>
            </tr>
        </template>

        <template id="template_nestedObjectRow">
            <tr>
                <td>&#10551;</td>
                <td class="type"></td>
                <td class="name"></td>
                <td class="errorsList"></td>
            </tr>
        </template>        

        <!-- Static markup -->
        <section id="nester">
            <h2>nester</h2>
            <div id="editors">
                <a href="#" class="btn_action" id="btn_commit" class="enabled">COMMIT TO WWISE</a>
            </div>
            <h3 id="selfObjectName">Selected objects' parent: <span class="name">none</span></h3>
            <p>
                <label for="type">Nesting objects type: </label>
                <select name="type" id="type"></select>
            </p>
            <div id="creatorChildrenList" class="creatorSection">
                <h3>Nesting objects to create:</h3>
                <table id="pendingChildren">
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div style="clear:both;" />
        </section>     
        
        <!-- UTILS -->

        <!-- Templates -->
        <template id="template_utils_selectedObjectRow">
            <tr>
                <td class="type"></td>
                <td><span class="guid"></span> <a href="#" class="btn_copy btn_copy_id" title="copy wwise object GUID to clipboard">⧉ copy ID</a> - </td>
                <td><span class="path objectPath"></span></td>
                <td><a href="#" class="btn_copy btn_copy_path" title="copy path to clipboard">⧉ copy path</a></td>
                <td class="errorsList"></td>
            </tr>
        </template>        

        <!-- Static markup -->
        <section id="utils">
            <h2>utils</h2>
            <div id="editors">
                <a href="#" class="btn_action enabled" id="btn_navigate" class="enabled">NAVIGATE</a>
            </div>
            <h3>Enter a path to navigate to:</h3>
            <p><input class="search" type="text"></input></p>
            <h3>Selected objects:</h3>
            <table id="selectedObjects">
                <tbody>
                </tbody>
            </table>
        </section>            

        <!-- LOADING SCREEN -->
        <div id="loading">
            <p>
                Please wait...
            </p>
        </div>

        <!-- 3rd party scripts -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="3rdparty/ak/js/waapi.js"></script>
        <script src="3rdparty/crossbario/js/autobahn.min.js"></script>

        <!-- util scripts -->
        <script src="resources/js/utils/pitchiz.js"></script>
        <script src="resources/js/utils/piano.js"></script>

        <!-- base models/views -->
        <script src="resources/js/common/models/genericModel.js"></script>
        <script src="resources/js/common/views/genericView.js"></script>
        <script src="resources/js/common/views/genericButton.js"></script>
        <script src="resources/js/common/models/wwiseObjectModels.js"></script>
        <script src="resources/js/common/views/wwiseObjectView.js"></script>

        <!-- app model/view -->
        <script src="resources/js/common/models/appModel.js"></script>
        <script src="resources/js/common/views/appView.js"></script>

        <!-- modules model/views -->
        <script src="resources/js/modules/EventSoundbankFinder/eventSoundbankFinderModel.js"></script>
        <script src="resources/js/modules/EventSoundbankFinder/eventSoundbankFinderView.js"></script>
        <script src="resources/js/modules/BatchAttenuationsEditor/BatchAttenuationsEditorModel.js"></script>
        <script src="resources/js/modules/BatchAttenuationsEditor/batchAttenuationsEditorView.js"></script>
        <script src="resources/js/modules/SamplerKeymapper/samplerKeymapperModel.js"></script>
        <script src="resources/js/modules/SamplerKeymapper/samplerKeymapperView.js"></script>
        <script src="resources/js/modules/NotesReview/notesReviewModel.js"></script>
        <script src="resources/js/modules/NotesReview/notesReviewView.js"></script>
        <script src="resources/js/modules/Renamer/renamerModel.js"></script>
        <script src="resources/js/modules/Renamer/renamerView.js"></script>
        <script src="resources/js/modules/Creator/creatorModel.js"></script>
        <script src="resources/js/modules/Creator/creatorView.js"></script>
        <script src="resources/js/modules/Nester/nesterModel.js"></script>
        <script src="resources/js/modules/Nester/nesterView.js"></script>    
        <script src="resources/js/modules/Utils/utilsModel.js"></script>
        <script src="resources/js/modules/Utils/utilsView.js"></script>  

        <!-- main -->
        <script src="resources/js/main.js"></script>
    </body>
</html>
